[Interface]
Address = <%= p('wireguard.address') %>
SaveConfig = true

ListenPort = <%= p('wireguard.listen_port') %>
PrivateKey = <%= p('wireguard.private_key') %>
DNS = <%= p('wireguard.dns') %>

<% if_p('wireguard.preup') do |value| %>
<% p('wireguard.preup').each do |preup| %>
PreUp = <%= preup %>
<% end %>
<% end %>

<% if_p('wireguard.postup') do |value| %>
<% p('wireguard.postup').each do |postup| %>
PostUp = <%= postup %>
<% end %>
<% end %>

<% if_p('wireguard.predown') do |value| %>
<% p('wireguard.predown').each do |predown| %>
PreDown = <%= predown %>
<% end %>
<% end %>

<% if_p('wireguard.postdown') do |value| %>
<% p('wireguard.postdown').each do |postdown| %>
PostDown = <%= postdown %>
<% end %>
<% end %>

[Peer]
<% if_p('wireguard.peer.endpoint') do |value| %>
Endpoint = <%= value %>
<% end %>
PublicKey = <%= p('wireguard.peer.public_key') %>
AllowedIPs = <%= p('wireguard.peer.allowed_ips') %>
PersistentKeepalive = <%= p('wireguard.peer.persistent_keepalive') %>
